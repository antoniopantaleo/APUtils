{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"mainThread"},{"kind":"text","text":"("},{"kind":"externalParam","text":"_"},{"kind":"text","text":" "},{"kind":"internalParam","text":"executionBlock"},{"kind":"text","text":": () -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"languages":["swift"],"platforms":["iOS"]}]},{"kind":"parameters","parameters":[{"name":"executionBlock","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"The block of code to be executed on the main thread"}]}]}]},{"kind":"content","content":[{"anchor":"discussion","level":2,"type":"heading","text":"Discussion"},{"style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"This function will block the calling thread until the "},{"type":"codeVoice","code":"executionBlock"},{"type":"text","text":" has completed on the main thread."}]}],"type":"aside","name":"Note"},{"type":"paragraph","inlineContent":[{"type":"text","text":"This function checks if the current thread is the main thread. If it is not,"},{"type":"text","text":" "},{"type":"text","text":"it uses "},{"type":"codeVoice","code":"DispatchQueue.main.sync"},{"type":"text","text":" to synchronously dispatch the "},{"type":"codeVoice","code":"executionBlock"},{"type":"text","text":" to the main thread."},{"type":"text","text":" "},{"type":"text","text":"If the current thread is already the main thread, it immediately executes the "},{"type":"codeVoice","code":"executionBlock"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["mainThread { [weak self]Â in","    self?.label.text = \"Updated on the main thread\"","}"]},{"style":"warning","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Be careful when calling this function from the main thread with a block that could"},{"type":"text","text":" "},{"type":"text","text":"potentially block the thread (like waiting for a network response), as it could lead to a deadlock."}]}],"type":"aside","name":"Warning"}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/aputils\/mainthread(_:)"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/APUtils\/documentation\/APUtils\/mainThread(_:)","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Synchronously executes a block of code on the main thread."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"mainThread"},{"kind":"text","text":"(() -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"title":"mainThread(_:)","roleHeading":"Function","role":"symbol","symbolKind":"func","externalID":"s:7APUtils10mainThreadyyyyXEF","modules":[{"name":"APUtils"}]},"hierarchy":{"paths":[["doc:\/\/APUtils\/documentation\/APUtils"]]},"references":{"doc://APUtils/documentation/APUtils":{"role":"collection","title":"APUtils","abstract":[{"type":"text","text":"A collection of everyday helpers"}],"identifier":"doc:\/\/APUtils\/documentation\/APUtils","kind":"symbol","type":"topic","url":"\/documentation\/aputils"},"doc://APUtils/documentation/APUtils/mainThread(_:)":{"role":"symbol","title":"mainThread(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"mainThread"},{"kind":"text","text":"(() -> "},{"kind":"typeIdentifier","text":"Void","preciseIdentifier":"s:s4Voida"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Synchronously executes a block of code on the main thread."}],"identifier":"doc:\/\/APUtils\/documentation\/APUtils\/mainThread(_:)","kind":"symbol","type":"topic","url":"\/documentation\/aputils\/mainthread(_:)"}}}